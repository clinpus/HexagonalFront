import{a as p}from"./chunk-WP3NWY2T.js";import{a as O,b as D,c as H,d as j,e as u,f as F,g as V}from"./chunk-OKJIFAIS.js";import{$a as y,Db as R,Eb as w,Hb as T,Ia as l,Na as b,Ob as E,Pb as L,Q as k,Qb as P,Ta as S,V as v,W as c,Wa as i,Xa as n,Ya as x,Za as _,aa as g,ab as A,ba as h,eb as a,ib as I,jb as M,nb as N,ya as C}from"./chunk-YK4GCXNH.js";var z=(e,o)=>{let r=c(p).getToken();if(r){let m=e.clone({headers:e.headers.set("Authorization",`Bearer ${r}`)});return o(m)}return o(e)};var s=class e{constructor(o,t){this.authService=o;this.router=t}canActivate(o,t){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||e)(v(p),v(u))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var U=[{path:"home",loadComponent:()=>import("./chunk-ADFG6W66.js").then(e=>e.HomeComponent)},{path:"invoices",loadComponent:()=>import("./chunk-4BIGDEHH.js").then(e=>e.InvoiceComponent),canActivate:[s]},{path:"customers",loadComponent:()=>import("./chunk-ORLVPGWZ.js").then(e=>e.CustomerComponent),canActivate:[s]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-YQ5HTF5Q.js").then(e=>e.LoginComponent)}];var B={providers:[N({eventCoalescing:!0}),V(U),H(D()),E(P(),L([z]))]};function Z(e,o){if(e&1){let t=_();i(0,"button",5),y("click",function(){g(t);let m=A();return h(m.logout())}),a(1,"D\xE9connexion"),n()}}function J(e,o){if(e&1){let t=_();i(0,"button",5),y("click",function(){g(t);let m=A();return h(m.login())}),a(1,"Connexion"),n()}}var f=class e{authService=c(p);router=c(u);isLoggedIn$=this.authService.isLoggedIn$;logout(){this.authService.logout()}login(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=l({type:e,selectors:[["app-navbar"]],decls:11,vars:6,consts:[[1,"horizontal-menu"],["routerLink","/home"],["routerLink","/invoices"],["routerLink","/customers"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,r){t&1&&(i(0,"nav",0)(1,"a",1),a(2,"Home"),n(),i(3,"a",2),a(4,"Invoices"),n(),i(5,"a",3),a(6,"Customers"),n(),b(7,Z,2,0,"button",4),I(8,"async"),b(9,J,2,0,"button",4),I(10,"async"),n()),t&2&&(C(7),S("ngIf",M(8,2,r.isLoggedIn$)===!0),C(2),S("ngIf",M(10,4,r.isLoggedIn$)===!1))},dependencies:[T,R,w,F],styles:[".horizontal-menu[_ngcontent-%COMP%]{display:flex;background-color:#333;padding:10px}.horizontal-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:5px 15px;margin:0 5px;border-radius:4px;transition:background-color .3s}.horizontal-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#555}"]})};var d=class e{title="Hexagonal";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=l({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&(x(0,"app-navbar"),i(1,"main"),x(2,"router-outlet"),n())},dependencies:[j,f],encapsulation:2})};O(d,B).catch(e=>console.error(e));
