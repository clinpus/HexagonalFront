import{a as y,b as O,c as P,d as N,e as F,f as T,g as A,h as k,i as w}from"./chunk-ULVUAOX6.js";import{$a as u,Cb as S,Da as c,Db as h,Hb as f,Ia as p,Na as v,Q as b,Ta as l,Wa as n,Xa as e,Za as I,aa as D,ab as g,ba as M,ca as E,eb as i,fb as d,gb as s,ya as a}from"./chunk-YK4GCXNH.js";var C=class r{constructor(o,t){this.dialogRef=o;this.data=t}onClose(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||r)(c(y),c(O))};static \u0275cmp=p({type:r,selectors:[["detail-custmer"]],decls:20,vars:5,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(t,m){t&1&&(n(0,"h2",0),i(1),e(),n(2,"mat-dialog-content")(3,"p")(4,"strong"),i(5,"Client :"),e(),i(6),e(),n(7,"p")(8,"strong"),i(9,"Client :"),e(),i(10),e(),n(11,"p")(12,"strong"),i(13,"Num\xE9ro :"),e(),i(14),e()(),n(15,"mat-dialog-actions",1)(16,"button",2),u("click",function(){return m.onClose()}),i(17,"Fermer"),e(),n(18,"button",3),i(19,"\xC9diter"),e()()),t&2&&(a(),s("D\xE9tails de la Facture #",m.data.id,""),a(5),s(" ",m.data.firstName,""),a(4),s(" ",m.data.lastName,""),a(4),s(" ",m.data.email,""),a(4),l("mat-dialog-close",!0))},dependencies:[f,T,A,k,N,F],encapsulation:2})};var x=class r extends w{getAllCustomers(){return this.get("custmers")}static \u0275fac=(()=>{let o;return function(m){return(o||(o=E(r)))(m||r)}})();static \u0275prov=b({token:r,factory:r.\u0275fac,providedIn:"root"})};function z(r,o){if(r&1&&(n(0,"p"),i(1),e()),r&2){let t=g();a(),s(" ",t.errorMessage," ")}}function G(r,o){r&1&&(n(0,"p"),i(1," Aucun Client trouv\xE9e. Veuillez v\xE9rifier la connexion \xE0 l'API. "),e())}function q(r,o){if(r&1){let t=I();n(0,"tr")(1,"td"),i(2),e(),n(3,"td"),i(4),e(),n(5,"td"),i(6),e(),n(7,"td"),i(8),e(),n(9,"td"),i(10),e(),n(11,"td")(12,"button",5),u("click",function(){let _=D(t).$implicit,V=g(2);return M(V.viewDetails(_.id))}),i(13,"D\xE9tails"),e()()()}if(r&2){let t=o.$implicit;a(2),d(t.id),a(2),d(t.firstName),a(2),d(t.lastName),a(2),d(t.email),a(2),d(t.tel)}}function H(r,o){if(r&1&&(n(0,"table",3)(1,"thead")(2,"tr")(3,"th"),i(4,"ID"),e(),n(5,"th"),i(6,"First Name"),e(),n(7,"th"),i(8,"Last Name"),e(),n(9,"th"),i(10,"email"),e(),n(11,"th"),i(12,"Tel"),e(),n(13,"th"),i(14,"Actions"),e()()(),n(15,"tbody"),v(16,q,14,5,"tr",4),e()()),r&2){let t=g();a(16),l("ngForOf",t.custmers)}}var R=class r{constructor(o,t){this.custmerService=o;this.dialog=t}custmers=[];errorMessage="";ngOnInit(){this.custmerService.getAllCustomers().subscribe({next:o=>{this.custmers=o||[]},error:o=>{console.error("Erreur lors du chargement des factures:",o),this.errorMessage=o.error.Message}})}viewDetails(o){let t=this.custmers.find(m=>m.id===o);t&&this.dialog.open(C,{width:"600px",data:t})}static \u0275fac=function(t){return new(t||r)(c(x),c(P))};static \u0275cmp=p({type:r,selectors:[["app-custmer"]],decls:6,vars:3,consts:[[1,"container"],[4,"ngIf"],["class","custmer-table",4,"ngIf"],[1,"custmer-table"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,m){t&1&&(n(0,"div",0)(1,"h2"),i(2,"Liste des custmers"),e(),v(3,z,2,1,"p",1)(4,G,2,0,"p",1)(5,H,17,1,"table",2),e()),t&2&&(a(3),l("ngIf",m.errorMessage),a(),l("ngIf",m.custmers.length===0),a(),l("ngIf",m.custmers.length>0))},dependencies:[f,S,h],styles:[".container[_ngcontent-%COMP%]{padding:20px}.custmer-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}.custmer-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custmer-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.custmer-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}.custmer-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer}"]})};export{R as CustmerComponent};
